<div class="container mt-5">
  <!-- Título principal -->
  <h1 class="text-center text-primary fw-bold mb-4">Selectores Anidados</h1>
  <hr class="mb-5" />

  <!-- Formulario -->
  <div class="card shadow border-0">
    <div class="card-body">
      <h4 class="card-title text-secondary mb-4">
        Selecciona tu región y país
      </h4>
      <form [formGroup]="myForm">
        <!-- Región -->
        <div class="mb-4">
          <label for="region" class="form-label fw-bold">🌍 Continente:</label>
          <select
            id="region"
            formControlName="region"
            class="form-select form-select-lg"
            aria-label="Seleccione un continente"
          >
            <option value="" selected>-- Seleccione un continente --</option>
            <option *ngFor="let region of regions" [value]="region">
              {{ region }}
            </option>
          </select>
        </div>

        <!-- País -->
        <div class="mb-4" *ngIf="countriesByRegion.length > 0">
          <label for="country" class="form-label fw-bold">
            <span class="d-flex align-items-center">
              <i
                class="bi bi-geo-alt-fill text-primary me-2"
                style="font-size: 1.5rem"
              ></i>
              País:
            </span>
          </label>
          <select
            id="country"
            formControlName="country"
            class="form-select form-select-lg"
            aria-label="Seleccione un país"
          >
            <option value="" selected>-- Seleccione un país --</option>
            <option
              *ngFor="let country of countriesByRegion"
              [value]="country.cca3"
            >
              {{ country.name }}
            </option>
          </select>
        </div>

        <!-- Fronteras -->
        <div class="mb-4">
          <label for="borders" class="form-label fw-bold">
            <span class="d-flex align-items-center">
              <i
                class="bi bi-map text-success me-2"
                style="font-size: 1.5rem"
              ></i>
              Fronteras:
            </span>
          </label>
          <select
            id="country"
            formControlName="border"
            class="form-select form-select-lg"
            aria-label="Seleccione un país"
          >
            <option value="" selected>-- Seleccione la frontera --</option>
            <!-- <option *ngFor="let border of borders" [value]="border">{{ border }}</option> -->
            <option *ngFor="let country of borders" [value]="country.cca3">
              {{ country.name }}
            </option>
          </select>
        </div>

        <!-- Botón enviar -->
        <div class="d-grid">
          <button type="button" class="btn btn-primary btn-lg">
            Enviar <i class="bi bi-send-fill"></i>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Información del formulario -->
  <div class="mt-5">
    <h3 class="text-secondary">📄 Estado del Formulario</h3>
    <code class="d-block bg-light text-dark p-3 border rounded shadow-sm">
      {{ myForm.value | json }}
    </code>
    <p class="mt-3 fs-5">
      <strong>¿Es válido el formulario?:</strong>
      <span class="badge bg-success" *ngIf="myForm.valid">Sí</span>
      <span class="badge bg-danger" *ngIf="!myForm.valid">No</span>
    </p>
  </div>
</div>
